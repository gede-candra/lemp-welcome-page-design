<!DOCTYPE html>
<html>

<head>
   <title>Welcome to nginx!</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@10..48,300&display=swap" rel="stylesheet">

   <style>
      html {
         color-scheme: light dark;
      }

      body {
         width: 35em;
         margin: 0 auto;
         font-family: 'Bricolage Grotesque', Tahoma, Verdana, Arial, sans-serif;
      }

      table {
         width: 100%;
         font-weight: bold;
      }

      h1 {
         margin: 0;
      }
   </style>
</head>

<body>
   <center>
      <img src="assets/megaphone.gif" alt="megaphone" width="120">
      <h1>Welcome to nginx server.</h1>
      <p>If you see this page, the nginx web server is successfully installed and
         working. Further configuration is required.</p>

      <table>
         <tr>
            <td>Online Documentation and Support</td>
            <td>:</td>
            <td><a href="http://nginx.org/">nginx.org</a>.</td>
         </tr>
         <tr>
            <td>PHP Info</td>
            <td>:</td>
            <td><a href="http://localhost/phpinfo.php">phpinfo.php</a>.</td>
         </tr>
         <tr>
            <td>PhpMyAdmin Database</td>
            <td>:</td>
            <td><a href="http://phpmyadmin.test">phpmyadmin.test</a>.</td>
         </tr>
      </table>

      <p><em>Thank you for using nginx.</em></p>

      <br><br>

      <div id="web-url">
         <h3>Website List:</h3>
         <div class="web-list">
            <p><a href="#">henbuk.com</a> <button data-id="0">delete</button></p>
            <p><a href="#">henbuk-audio.com</a> <button>delete</button></p>
            <p><a href="#">henbuk.com</a> <button>delete</button></p>
         </div>
         <button type="button" id="btn-add-list">Add list</button>
      </div>
   </center>

   <script type="text/javascript">
      const dataKey = 'data'; // Key untuk menyimpan data di Local Storage

      const dataList = document.querySelector('#web-url .web-list')
      const btnAddList = document.getElementById('btn-add-list')

      showData()

      btnAddList.addEventListener('click', (e) => {
         addData()
      })

      // Fungsi untuk menampilkan data dari Local Storage
      function showData() {
         let data = JSON.parse(localStorage.getItem(dataKey)) || [];
         dataList.innerHTML = '';
         
         data.forEach(function(item, index) {
            let listItem = document.createElement('p');
            listItem.innerHTML = `<a href="${item.link}">${item.link}</a> <button onclick="deleteData(${index})">delete</button>`;
            dataList.appendChild(listItem);
         });
      }

      // Fungsi untuk menyimpan data ke Local Storage
      function addData() {
         const inputValue = prompt("Masukkan domain website: ");

         let data = JSON.parse(localStorage.getItem(dataKey)) || [];
         let newData = {
            link: inputValue,
         };
         
         data.push(newData);
         localStorage.setItem(dataKey, JSON.stringify(data));
         showData();
      }
      // Fungsi untuk menghapus data
      function deleteData(index) {
         let data = JSON.parse(localStorage.getItem(dataKey));
         data.splice(index, 1);
         localStorage.setItem(dataKey, JSON.stringify(data));
         showData();
      }

   </script>
</body>

</html>